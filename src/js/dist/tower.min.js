"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,s){return e&&_defineProperties(t.prototype,e),s&&_defineProperties(t,s),t}var Tower=function(){function e(t){_classCallCheck(this,e),this.specs=t,this.baseSprite=new Sprite({sprite:t.baseSprite,center:t.center,rotation:0}),this.weaponSprite=new Sprite({sprite:t.weaponSprite,center:t.center,rotation:0}),this.specs.rotation=0,this.update=this.update.bind(this),this.render=this.render.bind(this),this.setTarget=this.setTarget.bind(this),this.canShoot=!1,this.animationTime=0,this.delay=this.specs.delay}return _createClass(e,[{key:"setTarget",value:function(t,e){this.specs.target={x:t,y:e}}},{key:"update",value:function(t){var e=computeAngle(this.specs.rotation,this.specs.center,this.specs.target);!1===testTolerance(e.angle,0,.01)&&(0<e.crossProduct?(this.weaponSprite.rotateRight(this.specs.rotateRate),this.specs.rotation+=this.specs.rotateRate):(this.weaponSprite.rotateLeft(this.specs.rotateRate),this.specs.rotation-=this.specs.rotateRate)),this.animationTime+=t,this.animationTime>this.specs.delay?(this.animationTime-=this.specs.delay,this.canShoot=!0):this.canShoot=!1}},{key:"render",value:function(){this.baseSprite.draw(),this.weaponSprite.draw()}}]),e}();
//# sourceMappingURL=tower.min.js.map
