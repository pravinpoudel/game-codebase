"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,s){return t&&_defineProperties(e.prototype,t),s&&_defineProperties(e,s),e}var gameModel=function(){function n(e,t,s){var i=this;_classCallCheck(this,n),this.specs=e,this.player=t,this.animationTime=0,this.subImageIndex=0,this.subTextureWidth=0,this.image=new Image,this.isReady=!1,this.secondTime=!1,this.image.onload=function(){i.isReady=!0,i.subTextureWidth=i.image.width/i.specs.spriteCount},this.image.src=this.specs.spriteSheet,this.continousMotion=s,this.collided=!1}return _createClass(n,[{key:"update",value:function(e){this.animationTime+=e,this.animationTime>=this.specs.spriteTime[this.subImageIndex]&&(this.animationTime-=this.specs.spriteTime[this.subImageIndex],this.subImageIndex+=1,this.subImageIndex=this.subImageIndex%this.specs.spriteCount),this.continousMotion&&this.player.update(e)}},{key:"drawTexture",value:function(e,t,s,i){context.translate(t.x,t.y),context.rotate(s),context.translate(-t.x,-t.y),context.drawImage(e,t.x-i.x/2,t.y-i.y/2,i.x,i.y),context.restore()}},{key:"drawSubTexture",value:function(e,t,s,i,n,a){context.save(),context.translate(i.x,i.y),context.rotate(n),context.translate(-i.x,-i.y),context.drawImage(e,s*t,0,s,e.height,i.x-a.x/2,i.y-a.y/2,a.x,a.y),context.restore()}},{key:"render",value:function(){this.isReady&&(this.drawSubTexture(this.image,this.subImageIndex,this.subTextureWidth,this.player.specs.center,this.player.specs.rotation,this.player.specs.size),this.secondTime=!0)}}]),n}();
//# sourceMappingURL=gameModel.min.js.map
