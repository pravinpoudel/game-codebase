{"version":3,"sources":["bulletcontroller.js"],"names":["BulletController","enemies","bullets","bulletStartX","bulletStartY","creep","power","type","push","Bullet","timeStamp","bulletLength","length","i","x","canvas","width","y","height","splice","isColliding2","targetCreep","player","specs","center","Math","floor","size","health","enemiesLength","m","bombAffectRadius","flying","console","log","update","forEach","bullet","draw"],"mappings":"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","sourcesContent":["class BulletController {\r\n  constructor(enemies) {\r\n    this.bullets = [];\r\n    this.enemies = enemies;\r\n  }\r\n\r\n  addBullet(bulletStartX, bulletStartY, creep, power, type) {\r\n    this.bullets.push(\r\n      new Bullet(bulletStartX, bulletStartY, creep, power, type)\r\n    );\r\n  }\r\n\r\n  update(timeStamp) {\r\n    let bulletLength = this.bullets.length;\r\n    for (let i = 0; i < bulletLength; i++) {\r\n      if (this.bullets[i]) {\r\n        if (\r\n          this.bullets[i].x < 0 ||\r\n          this.bullets[i].x > canvas.width ||\r\n          this.bullets[i].y < 0 ||\r\n          this.bullets[i].y > canvas.height\r\n        ) {\r\n          this.bullets.splice(i, 1);\r\n          continue;\r\n        }\r\n        if (\r\n          isColliding2(\r\n            this.bullets[i].x,\r\n            this.bullets[i].y,\r\n            5,\r\n            this.bullets[i].targetCreep.player.specs.center.x,\r\n            this.bullets[i].targetCreep.player.specs.center.y,\r\n            Math.floor(this.bullets[i].targetCreep.player.specs.size.x / 2)\r\n          )\r\n        ) {\r\n          //it is not bomb\r\n          if (this.bullets[i].type == 1) {\r\n            this.bullets[i].targetCreep.health -= this.bullets[i].power;\r\n            if (this.bullets[i].targetCreep.health < 0) {\r\n              this.bullets[i].targetCreep.health = 0;\r\n            }\r\n          }\r\n\r\n          //if guided missile; affect in radius of \"bombAffectRadius\"\r\n          if (this.bullets[i].type == 2) {\r\n            let enemiesLength = this.enemies.length;\r\n            for (let m = 0; m < enemiesLength; m++) {\r\n              if (\r\n                isColliding2(\r\n                  this.bullets[i].x,\r\n                  this.bullets[i].y,\r\n                  bombAffectRadius,\r\n                  this.enemies[m].player.specs.center.x,\r\n                  this.enemies[m].player.specs.center.y,\r\n                  Math.floor(this.enemies[m].player.specs.size.x / 2)\r\n                )\r\n              ) {\r\n                this.enemies[m].health -= this.bullets[i].power;\r\n                this.enemies[m].health =\r\n                  this.enemies[m].health < 0 ? 0 : this.enemies[m].health;\r\n              }\r\n            }\r\n          }\r\n\r\n          if (this.bullets[i].type == 3) {\r\n            let enemiesLength = this.enemies.length;\r\n            for (let m = 0; m < enemiesLength; m++) {\r\n              // if(enemy is flyover)\r\n              if (this.enemies[m].flying) {\r\n                isColliding2(\r\n                  this.bullets[i].x,\r\n                  this.bullets[i].y,\r\n                  5,\r\n                  this.enemies[m].player.specs.center.x,\r\n                  this.enemies[m].player.specs.center.y,\r\n                  Math.floor(this.enemies[m].player.specs.size.x / 2)\r\n                );\r\n                {\r\n                  console.log(\"i am collided with\", m);\r\n                  this.enemies[m].health -= this.bullets[i].power;\r\n                  this.enemies[m].health =\r\n                    this.enemies[m].health < 0 ? 0 : this.enemies[m].health;\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          this.bullets.splice(i, 1);\r\n          i--;\r\n          bulletLength--;\r\n          continue;\r\n        }\r\n      }\r\n      this.bullets[i].update(timeStamp);\r\n    }\r\n    //if inside the boundary\r\n  }\r\n\r\n  render() {\r\n    this.bullets.forEach((bullet) => {\r\n      bullet.draw();\r\n    });\r\n  }\r\n}\r\n"],"file":"bulletcontroller.dev.js"}