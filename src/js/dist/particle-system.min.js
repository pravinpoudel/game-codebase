"use strict";var Brickout={pages:{}};function ParticleSystem(n){var e={},i=new Image,s={},c=1;function l(e,t,n){console.log(e);var r={image:i,size:Math.abs(Random.nextGaussian(10,4)),center:{x:t,y:n},direction:{x:e.xDirection,y:e.yDirection},speed:Math.abs(Random.nextGaussian(e.speed.mean,e.speed.stdev)),rotation:0,lifetime:Math.abs(Random.nextGaussian(e.lifetime.mean,e.lifetime.stdev)),alive:0};return console.log(e.gaussian),e.guassian&&(r.direction={x:0,y:Math.abs(Random.nextGaussian(1,.25))}),r}return e.createEffect=function(e){var t,n,r,i,o=(e.right-e.left)/10,a=(e.bottom-e.top)/10;for(e.speed={mean:20,stdev:2},e.lifetime={mean:e.mean,stdev:e.stdev},t=0;t<e.count;t++)for(r=Math.trunc(e.left+t*o),n=0;n<e.count;n++)i=Math.trunc(e.top+n*a),s[c++]=l(e,r,i)},e.update=function(e){var t,n,r=[];for(t in s)s.hasOwnProperty(t)&&((n=s[t]).center.x+=e/1e3*n.speed*n.direction.x,n.center.y+=e/1e3*n.speed*n.direction.y,n.rotation+=n.speed/500,n.alive+=e,n.alive>n.lifetime&&r.push(t));for(n=0;n<r.length;n++)delete s[r[n]]},e.render=function(){},i.src="assets/fire.png",i.onload=function(){e.render=function(){var e,t;for(e in s)s.hasOwnProperty(e)&&(t=s[e],n.drawImage(t))}},e}Brickout.graphics=function(){var e=document.getElementById("canvas-main"),r=e.getContext("2d");return CanvasRenderingContext2D.prototype.clear=function(){this.save(),this.setTransform(1,0,0,1,0,0),this.clearRect(0,0,e.width,e.height),this.restore()},{clear:function(){r.clear()},drawRectangle:function(e){r.fillStyle=e.fill,r.fillRect(e.x,e.y,e.width,e.height),r.strokeStyle=e.stroke,r.strokeRect(e.x,e.y,e.width,e.height)},drawText:function(e){r.save(),r.font=e.font,r.fillStyle=e.fill,e.hasOwnProperty("stroke")&&(r.strokeStyle=e.stroke),r.textBaseline="top",r.fillText(e.text,e.position.x,e.position.y),r.strokeText(e.text,e.position.x,e.position.y),r.restore()},drawImage:function(e){r.save(),r.translate(e.center.x,e.center.y),r.rotate(e.rotation),r.translate(-e.center.x,-e.center.y),r.drawImage(e.image,e.center.x-e.size/2,e.center.y-e.size/2,e.size,e.size),r.restore()},measureTextWidth:function(e){r.save(),r.font=e.font,r.fillStyle=e.fill,e.hasOwnProperty("stroke")&&(r.strokeStyle=e.stroke);var t=r.measureText(e.text).width;return r.restore(),t},measureTextHeight:function(e){var t=e.text;e.text="m",r.save(),r.font=e.font,r.fillStyle=e.fill,e.hasOwnProperty("stroke")&&(r.strokeStyle=e.stroke);var n=r.measureText(e.text).width;return e.text=t,r.restore(),n}}}();var particleSystem=ParticleSystem(Brickout.graphics);function makeParticle2(e,t,n,r,i,o,a,s,c,l){particleSystem.createEffect({left:e,right:t,top:n,bottom:r,count:i,xDirection:o,yDirection:a,mean:s,stdev:c,gaussian:l})}function creepDied(e,t){makeParticle2(e,e+25,t,t+25,10,0,0,800,200,!0)}function trailFollow(e,t,n,r){console.log(e,t,n,r),makeParticle2(e,e+5,t,t+5,1,n,r,150,50,!1)}function bombHit(e,t,n){makeParticle2(e-n/4,e+n/4,t-n/4,t+n/4,5,0,0,500,100,!0)}function towerSold(e,t){makeParticle2(e,e+25,t-25,t+25,5,0,0,1e3,20,!0)}
//# sourceMappingURL=particle-system.min.js.map
