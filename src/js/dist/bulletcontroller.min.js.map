{"version":3,"sources":["bulletcontroller.js"],"names":["BulletController","enemies","_classCallCheck","this","bullets","bulletStartX","bulletStartY","creep","power","type","push","timeStamp","bulletLength","length","i","x","canvas","width","y","splice","targetCreep","player","center","specs","Math","floor","size","enemiesLength","m","isColliding2","health","bombAffectRadius","gameSound","playSound","forEach","bullet","draw"],"mappings":"uZAAMA,4BACJ,SAAAA,EAAYC,GAASC,gBAAAC,KAAAH,GACnBG,KAAKC,QAAU,GACfD,KAAKF,QAAUA,yDAGPI,EAAcC,EAAcC,EAAOC,EAAOC,GAClDN,KAAKC,QAAQM,KAPXV,IAAAA,OAAAA,EAQyBM,EAAcC,EAAOC,EAAOC,mCAPpCE,GACnB,IAWA,IAAIC,EAAeT,KAAKC,QAAQS,OAX3BT,EAAL,EAAeU,EAAfF,EAAAE,IAAA,CACA,GAAKb,KAAAA,QAAUA,GAAf,CACD,GAaOE,KAAKC,QAAQU,GAAGC,EAAI,GACpBZ,KAAKC,QAAQU,GAAGC,EAAIC,OAAOC,OAC3Bd,KAAKC,QAAQU,GAAGI,EAAI,GACpBf,KAAKC,QAAQU,GAAGI,EAddb,OAAAA,OACR,CAGDF,KAAAC,QAAAe,OAAAL,EAAA,GAaO,SAEF,GAZAF,aAcIT,KAAKC,QAAQU,GAAGC,EAbnBZ,KAAKC,QAAOU,GAAGF,EACd,EACFT,KACEC,QAAKA,GAALgB,YACAC,OAAKjB,MAALkB,OAAoBN,EAIpBb,KAAKC,QAAQe,GAAAA,YAAbE,OAAAE,MAAAD,OAAAJ,EACAM,KAAAC,MAAAtB,KAAAC,QAAAU,GAAAM,YAAAC,OAAAE,MAAAG,KAAAX,EAAA,IAWA,CAIA,GAAI,GAAJZ,KAAIC,QAAKA,GAALK,KAEF,IADA,IAAAkB,EAAiBxB,KAAGF,QAAKA,OAChB2B,EAAI,EAAGA,EAAID,EAAeC,IACjCC,aAUE1B,KAAKF,QAAQ2B,GAAGE,EAChB3B,KAAKF,QAAQ2B,GAAGE,EAEjBC,iBACF5B,KAAAF,QAAA2B,GAAAP,OAAAE,MAAAD,OAAAP,EAjBHZ,KAkBOF,QAAA2B,GAAAP,OAAAE,MAAAD,OAAAJ,EACLM,KAAKpB,MAALD,KAAgBiB,QAAYU,GAAAA,OAAUP,MAAKnB,KAAAA,EAAL,MAEpCD,KAAKC,QAAQU,GAAGM,QAAAA,KAAYU,QAA5BhB,GAAAN,MACDL,KAAAF,QAAA2B,GAAAE,OAGH3B,KAAAF,QAAA2B,GAAAE,OAAA,EAAA,EAAA3B,KAAAF,QAAA2B,GAAAE,aAIA3B,KAAAC,QAAAU,GAAAM,YAAAU,QAAA3B,KAAAC,QAAAU,GAAAN,MACAL,KAAAC,QAAAU,GAAAM,YAAAU,OAAA,IACA3B,KAAAC,QAAAU,GAAAM,YAAAU,OAAA,GAuBJE,UAAAC,UAAA,aAEF9B,KAAAC,QAAAe,OAAAL,EAAA,GAPMA,IAQPF,IANO,UASNT,KAAKC,QAAQ8B,GAAAA,OAAQvB,qCAArBR,KAAKC,QAAQ8B,QAAQ,SAACC,GACpBA,EAAOC","file":"bulletcontroller.min.js","sourcesContent":["class BulletController {\r\n  constructor(enemies) {\r\n    this.bullets = [];\r\n    this.enemies = enemies;\r\n  }\r\n\r\n  addBullet(bulletStartX, bulletStartY, creep, power, type) {\r\n    this.bullets.push(\r\n      new Bullet(bulletStartX, bulletStartY, creep, power, type)\r\n    );\r\n  }\r\n\r\n  update(timeStamp) {\r\n    let bulletLength = this.bullets.length;\r\n    for (let i = 0; i < bulletLength; i++) {\r\n      if (this.bullets[i]) {\r\n        if (\r\n          this.bullets[i].x < 0 ||\r\n          this.bullets[i].x > canvas.width ||\r\n          this.bullets[i].y < 0 ||\r\n          this.bullets[i].y > canvas.height\r\n        ) {\r\n          this.bullets.splice(i, 1);\r\n          continue;\r\n        }\r\n        if (\r\n          isColliding2(\r\n            this.bullets[i].x,\r\n            this.bullets[i].y,\r\n            5,\r\n            this.bullets[i].targetCreep.player.specs.center.x,\r\n            this.bullets[i].targetCreep.player.specs.center.y,\r\n            Math.floor(this.bullets[i].targetCreep.player.specs.size.x / 2)\r\n          )\r\n        ) {\r\n          //it is not bomb\r\n        \r\n          //if guided missile; affect in radius of \"bombAffectRadius\"\r\n          if (this.bullets[i].type == 2) {\r\n            let enemiesLength = this.enemies.length;\r\n            for (let m = 0; m < enemiesLength; m++) {\r\n              if (\r\n                isColliding2(\r\n                  this.bullets[i].x,\r\n                  this.bullets[i].y,\r\n                  bombAffectRadius,\r\n                  this.enemies[m].player.specs.center.x,\r\n                  this.enemies[m].player.specs.center.y,\r\n                  Math.floor(this.enemies[m].player.specs.size.x / 2)\r\n                )\r\n              ) {\r\n                this.enemies[m].health -= this.bullets[i].power;\r\n                this.enemies[m].health =\r\n                  this.enemies[m].health < 0 ? 0 : this.enemies[m].health;\r\n              }\r\n            }\r\n          } else {\r\n            this.bullets[i].targetCreep.health -= this.bullets[i].power;\r\n            if (this.bullets[i].targetCreep.health < 0) {\r\n              this.bullets[i].targetCreep.health = 0;\r\n            }\r\n          }\r\n\r\n          // if (this.bullets[i].type == 3) {\r\n          //   let enemiesLength = this.enemies.length;\r\n          //   for (let m = 0; m < enemiesLength; m++) {\r\n          //     // if(enemy is flyover)\r\n          //     if (this.enemies[m].flying) {\r\n          //       isColliding2(\r\n          //         this.bullets[i].x,\r\n          //         this.bullets[i].y,\r\n          //         5,\r\n          //         this.enemies[m].player.specs.center.x,\r\n          //         this.enemies[m].player.specs.center.y,\r\n          //         Math.floor(this.enemies[m].player.specs.size.x / 2)\r\n          //       );\r\n          //       {\r\n          //         console.log(\"i am collided with\", m);\r\n          //         this.enemies[m].health -= this.bullets[i].power;\r\n          //         this.enemies[m].health =\r\n          //           this.enemies[m].health < 0 ? 0 : this.enemies[m].health;\r\n          //       }\r\n          //     }\r\n          //   }\r\n          // }\r\n          gameSound.playSound(\"explosion\");\r\n          this.bullets.splice(i, 1);\r\n          i--;\r\n          bulletLength--;\r\n          continue;\r\n        }\r\n      }\r\n      this.bullets[i].update(timeStamp);\r\n    }\r\n    //if inside the boundary\r\n  }\r\n\r\n  render() {\r\n    this.bullets.forEach((bullet) => {\r\n      bullet.draw();\r\n    });\r\n  }\r\n}\r\n"]}