{"version":3,"sources":["sprite.js"],"names":["Sprite","specs","image","Image","imageLoaded","onload","src","sprite","rotateRight","bind","rotateLeft","draw","drawArc","angle","rotation","self","height","width","spriteCount","context","save","translate","center","x","y","rotate","drawImage","restore","fillStyle","beginPath","moveTo","arc","lineTo","fill"],"mappings":"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","sourcesContent":["class Sprite {\r\n  constructor(specs) {\r\n    this.specs = specs;\r\n    this.image = new Image();\r\n    this.imageLoaded = false;\r\n    this.image.onload = function () {\r\n      this.imageLoaded = true;\r\n    };\r\n    this.image.src = this.specs.sprite;\r\n    this.rotateRight = this.rotateRight.bind(this);\r\n    this.rotateLeft = this.rotateLeft.bind(this);\r\n    this.draw = this.draw.bind(this);\r\n    this.drawArc = this.drawArc.bind(this);\r\n  }\r\n\r\n  rotateRight(angle) {\r\n    this.specs.rotation += angle;\r\n  }\r\n\r\n  rotateLeft(angle) {\r\n    this.specs.rotation -= angle;\r\n  }\r\n\r\n  draw() {\r\n    let self = this;\r\n    if (this.image.imageLoaded) {\r\n      self.specs.height = self.image.height;\r\n      self.specs.width = self.image.width / this.specs.spriteCount;\r\n      context.save();\r\n      context.translate(self.specs.center.x, self.specs.center.y);\r\n      context.rotate(self.specs.rotation);\r\n      context.translate(-self.specs.center.x, -self.specs.center.y);\r\n      context.drawImage(\r\n        self.image,\r\n        self.specs.center.x - self.image.width / 2,\r\n        self.specs.center.y - self.image.height / 2,\r\n        self.image.width,\r\n        self.image.height\r\n      );\r\n      context.restore();\r\n    }\r\n  }\r\n\r\n  drawArc(angle) {\r\n    context.fillStyle = \"rgba(255, 0, 0, 0.5)\";\r\n    context.beginPath();\r\n    context.moveTo(this.specs.center.x, this.specs.center.y);\r\n    context.arc(\r\n      this.specs.center.x,\r\n      this.specs.center.y,\r\n      100,\r\n      this.specs.rotation - angle / 2,\r\n      this.specs.rotation + angle / 2\r\n    );\r\n    context.lineTo(this.specs.center.x, this.specs.center.y);\r\n    context.fill();\r\n  }\r\n}\r\n"],"file":"sprite.dev.js"}