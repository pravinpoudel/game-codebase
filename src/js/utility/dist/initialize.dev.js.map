{"version":3,"sources":["initialize.js"],"names":["canvas","document","getElementById","context","manager","Manager","activeButton","href","window","location","dir","substring","lastIndexOf","localStorage","getItem","setItem","console","log","addEventListener","resizeCanvas","GameState","menu","screens","help","Help","highscores","HighScoreMenu","control","Control","mainmenu","MainMenu","about","About","input","Keyboard","gameplay","GamePlay","width","innerWidth","height","innerHeight","getContext","isColliding","r1","r2","left","right","top","bottom","drawRectangle","spec","fillStyle","fill","fillRect","x","y","strokeStyle","stroke","strokeRect"],"mappings":"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","sourcesContent":["let canvas = document.getElementById(\"canvas-main\");\r\nlet context;\r\nlet manager = new Manager();\r\nlet activeButton = null;\r\nvar href = window.location.href;\r\nvar dir = href.substring(0, href.lastIndexOf(\"/\")) + \"/\";\r\n\r\nif (!localStorage.getItem(\"upgrade\")) {\r\n  localStorage.setItem(\"upgrade\", \"u\");\r\n}\r\nif (!localStorage.getItem(\"sell\")) {\r\n  localStorage.setItem(\"sell\", \"s\");\r\n}\r\nif (!localStorage.getItem(\"start\")) {\r\n  localStorage.setItem(\"start\", \"g\");\r\n}\r\n\r\nconsole.log(\r\n  localStorage[\"upgrade\"],\r\n  localStorage[\"shell\"],\r\n  localStorage[\"start\"]\r\n);\r\n\r\nwindow.addEventListener(\"resize\", resizeCanvas, false);\r\n\r\nGameState.menu = manager;\r\n\r\nlet screens = {\r\n  help: new Help(manager),\r\n  highscores: new HighScoreMenu(manager),\r\n  control: new Control(manager),\r\n  mainmenu: new MainMenu(manager),\r\n  about: new About(manager),\r\n};\r\n\r\nGameState.input = new Keyboard();\r\nconsole.log(GameState.input);\r\nscreens.gameplay = new GamePlay(manager, GameState.input);\r\nGameState.screens = screens;\r\n\r\nfunction resizeCanvas() {\r\n  if (canvas) {\r\n    canvas.width = window.innerWidth;\r\n    canvas.height = window.innerHeight;\r\n    context = canvas.getContext(\"2d\");\r\n    console.log(canvas);\r\n  }\r\n}\r\nresizeCanvas();\r\n\r\n//------------------------------------------------------\r\nfunction isColliding(r1, r2) {\r\n  return !(\r\n    r2.left > r1.right ||\r\n    r2.right < r1.left ||\r\n    r2.top > r1.bottom ||\r\n    r2.bottom < r1.top\r\n  );\r\n}\r\nfunction drawRectangle(spec) {\r\n  context.fillStyle = spec.fill;\r\n  context.fillRect(spec.x, spec.y, spec.width, spec.height);\r\n\r\n  context.strokeStyle = spec.stroke;\r\n  context.strokeRect(spec.x, spec.y, spec.width, spec.height);\r\n}\r\n"],"file":"initialize.dev.js"}