"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}var GamePlay=function(){function r(e,t){_classCallCheck(this,r),this.myKeyboard=t,this.cancelNextRequest=!1,this.lastTimeStamp,this.manager=e,this.model=null,this.initialize=this.initialize.bind(this),this.run=this.run.bind(this),this.playerModel=null}function e(e){return t.apply(this,arguments)}var t;return _createClass(r,[{key:"initialize",value:function(){var e=this;e.myKeyboard.register("Escape",function(){cancelNextRequest=!0,e.manager.showScreen("mainmenu")});var t=new MovingObject({size:{x:50,y:50},center:{x:50,y:150},rotation:0,moveRate:.125,rotateRate:Math.PI/1e3});e.playerModel=new ModelAnimation({spriteSheet:"assets/spritesheet-bird.png",spriteCount:14,spriteTime:[25,25,25,25,25,25,25,25,25,25,25,25,25,25]},t),e.myKeyboard.register("w",t.moveForward),e.myKeyboard.register("a",t.rotateLeft),e.myKeyboard.register("d",t.rotateRight)}},{key:"processInput",value:function(e){console.log("input pressed"),self.myKeyboard.update(e)}},{key:"update",value:function(e){playerModel.update(e)}},{key:"render",value:function(){console.log("i am rendering"),playerModel.render()}},{key:"gameLoop",value:(t=function(e){processInput(e-lastTimeStamp),update(e-lastTimeStamp),lastTimeStamp=e,render(),cancelNextRequest||requestAnimationFrame(gameLoop)},e.toString=function(){return t.toString()},e)},{key:"run",value:function(){model=GameModel(),myKeyboard.registerCommand("ArrowUp",model.turnUp),myKeyboard.registerCommand("ArrowDown",model.turnDown),myKeyboard.registerCommand("ArrowLeft",model.turnLeft),myKeyboard.registerCommand("ArrowRight",model.turnRight),lastTimeStamp=performance.now(),cancelNextRequest=!1,requestAnimationFrame(gameLoop)}}]),r}();
//# sourceMappingURL=game-play.min.js.map
